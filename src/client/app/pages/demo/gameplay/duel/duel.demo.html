<!--Hud at the top-->
<app-duel-hud-top
	[boardProgress1]="gameState.getPlayerBoard(gameState.myID).progress"
	[boardProgress2]="gameState.getPlayerBoard(1 - gameState.myID).progress"
	[phaseTimeMs]="gameState.timeCoordinator.timeElapsed"
	[gameState]="gameState"
	[phase]="gameState.matchState.phase"
></app-duel-hud-top>

<!-- Combat Badges -->
<app-combat-badge [data]="combatBadge1"></app-combat-badge>
<app-combat-badge [data]="combatBadge2"></app-combat-badge>

<!-- This contains everything in the centre, including the two boards, PUP Bars, and central buttons-->
<div class="hud-centre">
  <app-universal-progress-bar
    [percentage]="gameState.getPlayerState(gameState.myID).gameState?.pupProgress ?? 0"
    [isVertical]="true"
  />
  <app-board-model
    #board1
    [model]="gameState.getPlayerBoard(gameState.myID)"
    [isMe]="true"
    [defuseType]="board1DefuseType"
    [threatCell]="board1ThreatCell"
    [globalThreat]="board1GlobalThreat"
    [ghostCells]="board1GhostCells"
    [floatingText]="board1FloatingText"
    (sendPacket)="onPacketRequest($event)"
    (selectionChanged)="onBoardSelectionChanged(0)"
  />
  <app-utility-buttons-holder/>
  <app-board-model
    #board2
    [model]="gameState.getPlayerBoard(1 - gameState.myID)"
    [isMe]="false"
    [defuseType]="board2DefuseType"
    [threatCell]="board2ThreatCell"
    [globalThreat]="board2GlobalThreat"
    [ghostCells]="board2GhostCells"
    [floatingText]="board2FloatingText"
    (sendPacket)="onPacketRequest($event)"
    (selectionChanged)="onBoardSelectionChanged(1)"
  />
  <app-universal-progress-bar
    [percentage]="gameState.getPlayerState(1 - gameState.myID).gameState?.pupProgress ?? 0"
    [isVertical]="true"
  />
</div>

<!-- Bottom HUD -->
<div class="hud-bottom">
  <div class="my-pup">
    <app-pup-orb-spinner/>
    <app-pup-slots-holder/>
  </div>
  <app-numeric-buttons-holder (numberClick)="board1.parseNumberKey($event)"/>
  <app-pup-slots-holder/>
</div>